!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(p){"use strict";var u,h,s,g,f,e={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0,gaGlobal:!1,gtmOverride:!1,trackerName:!1,dataLayer:"dataLayer"},d=p(window),v=[],m=!1,D=0;return p.scrollDepth=function(i){var l=+new Date;function a(e,n,t,o){var r=i.trackerName?i.trackerName+".send":"send";f?(f({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventValue:1,eventNonInteraction:i.nonInteraction}),i.pixelDepth&&2<arguments.length&&D<t&&f({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:c(D=t),eventValue:1,eventNonInteraction:i.nonInteraction}),i.userTiming&&3<arguments.length&&f({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:e,eventLabel:n,eventTiming:o}),g&&gtag("event","scroll_depth",{category:"Scroll Depth",scroll_distance:n,px_distance:t})):(u&&(window[s](r,"event","Scroll Depth",e,n,1,{nonInteraction:i.nonInteraction}),i.pixelDepth&&2<arguments.length&&D<t&&(D=t,window[s](r,"event","Scroll Depth","Pixel Depth",c(t),1,{nonInteraction:i.nonInteraction})),i.userTiming&&3<arguments.length&&window[s](r,"timing","Scroll Depth",e,o,n)),h&&(_gaq.push(["_trackEvent","Scroll Depth",e,n,1,i.nonInteraction]),i.pixelDepth&&2<arguments.length&&D<t&&(D=t,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",c(t),1,i.nonInteraction])),i.userTiming&&3<arguments.length&&_gaq.push(["_trackTiming","Scroll Depth",e,o,n,100])))}function c(e){return(250*Math.floor(e/250)).toString()}function n(){m=!0,d.on("scroll.scrollDepth",function(t,o){function r(){p=new Date,c=null,a=t.apply(i,l)}var i,l,a,c=null,p=0;return function(){var e=new Date;p||(p=e);var n=o-(e-p);return i=this,l=arguments,n<=0?(clearTimeout(c),c=null,p=e,a=t.apply(i,l)):c||(c=setTimeout(r,n)),a}}(function(){var e=p(document).height(),n=window.innerHeight?window.innerHeight:d.height(),t=d.scrollTop()+n,o=function(e){return{"25%":parseInt(.25*e,10),"50%":parseInt(.5*e,10),"75%":parseInt(.75*e,10),"100%":e-5}}(e),r=+new Date-l;if(v.length>=i.elements.length+(i.percentage?4:0))return d.off("scroll.scrollDepth"),void(m=!1);i.elements&&function(e,t,o){p.each(e,function(e,n){-1===p.inArray(n,v)&&p(n).length&&t>=p(n).offset().top&&(a("Elements",n,t,o),v.push(n))})}(i.elements,t,r),i.percentage&&function(e,t,o){p.each(e,function(e,n){-1===p.inArray(e,v)&&n<=t&&(a("Percentage",e,t,o),v.push(e))})}(o,t,r)},500))}i=p.extend({},e,i),p(document).height()<i.minHeight||(i.gaGlobal?(u=!0,s=i.gaGlobal):"function"==typeof gtag?(g=!0,s="gtag"):"function"==typeof ga?(u=!0,s="ga"):"function"==typeof __gaTracker&&(u=!0,s="__gaTracker"),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(h=!0),"function"==typeof i.eventHandler?f=i.eventHandler:void 0===window[i.dataLayer]||"function"!=typeof window[i.dataLayer].push||i.gtmOverride||(f=function(e){window[i.dataLayer].push(e)}),p.scrollDepth.reset=function(){v=[],D=0,d.off("scroll.scrollDepth"),n()},p.scrollDepth.addElements=function(e){void 0!==e&&p.isArray(e)&&(p.merge(i.elements,e),m||n())},p.scrollDepth.removeElements=function(e){void 0!==e&&p.isArray(e)&&p.each(e,function(e,n){var t=p.inArray(n,i.elements),o=p.inArray(n,v);-1!=t&&i.elements.splice(t,1),-1!=o&&v.splice(o,1)})},n())},p.scrollDepth});
//# sourceMappingURL=jquery.scrolldepth.js.map